# This is technically a Makefile.
# Other Makefiles "include" the below.

# Executable assurance, please see doc in dir:
include nix

clusterDir ?= ../.postgres-work

mainDb ?= snowdrift
testDb ?= snowdrift_test
defaultDb ?= $(mainDb)


#
# Environment variables
#

# Ensures that Postgres executables are in the path, provided they're installed:
export PATH := $(shell pg_config --bindir):$(PATH)

# Needed by Yesod. Makes Postgres commands simpler, too:
export PGHOST := $(clusterDir)
export PGDATA := $(clusterDir)
export PGDATABASE := $(defaultDb)
